<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Task Tracker â€” Simple</title>
    <style>
      body{font-family:system-ui,Segoe UI,Arial;margin:1rem;background:#f7f7fb}
      .card{background:#fff;padding:1rem;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.06)}
      button{cursor:pointer}
      .done{text-decoration:line-through;color:#888}
    </style>
  </head>
  <body>
    <h1>Task Tracker (simple)</h1>
    <div class="card" style="max-width:600px;margin-bottom:1rem">
      <!-- Add task form -->
      <input id="title" placeholder="Task title" style="width:60%" />
      <button id="add">Add</button>
      <p style="color:#555;margin-top:.6rem">Add tasks, mark done, or delete. Data is saved in your browser (localStorage).</p>
    </div>

    <div id="list" class="card" style="max-width:600px"></div>

    <script>
      // Simple model: array of {id, title, done}
      const KEY = 'simple_tasks_v1';
      const qs = s => document.querySelector(s);
      let tasks = JSON.parse(localStorage.getItem(KEY) || '[]');

      function save(){ localStorage.setItem(KEY, JSON.stringify(tasks)); }

      function render(){
        const out = tasks.map(t=>
          `<div style="display:flex;align-items:center;gap:.6rem;margin-bottom:.5rem" data-id="${t.id}">
             <input type="checkbox" ${t.done? 'checked':''} />
             <div style="flex:1" class="${t.done? 'done':''}">${escapeHtml(t.title)}</div>
             <button class="del">Delete</button>
           </div>`).join('') || '<div style="color:#666">No tasks yet</div>';
        qs('#list').innerHTML = out;

        // bind events
        document.querySelectorAll('#list [data-id]').forEach(el=>{
          const id = el.dataset.id;
          el.querySelector('input').onchange = e=>{ toggle(id); };
          el.querySelector('.del').onclick = ()=>{ remove(id); };
        });
      }

      function add(title){ if(!title) return; tasks.push({ id: Date.now().toString(), title, done:false }); save(); render(); }
      function toggle(id){ tasks = tasks.map(t=> t.id===id? {...t, done: !t.done}: t); save(); render(); }
      function remove(id){ tasks = tasks.filter(t=> t.id!==id); save(); render(); }

      qs('#add').onclick = ()=>{ add(qs('#title').value.trim()); qs('#title').value = ''; };

      function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

      render();
    </script>
  </body>
</html>
